<%- include('../../partials/header') %>

<style>
body {
  color: #fff;
}
.dashboard-title, .dashboard-container, table, th, td {
  color: #fff !important;
}
.dashboard-container {
  background: rgba(0,0,0,0.10);
}
table {
  background: transparent !important;
}
th {
  background: rgba(255,255,255,0.08) !important;
}
a, a:visited {
  color: #fff !important;
}
</style>

<div class="dashboard-container">
  <div class="dashboard-title">Quản lý Table của Shop: <%= shopName || slug %></div>
  <div class="dashboard-actions" style="margin-bottom:24px;">
    <a href="/<%= slug %>/tables/create">+ Thêm Table mới</a>
  </div>
  <div style="overflow-x:auto;">
    <table style="width:100%;border-collapse:collapse;background:#fff;">
      <thead>
        <tr style="background:#f5f5f5;">
          <th style="padding:10px 8px;border:1px solid #e0e0e0;">#</th>
          <th style="padding:10px 8px;border:1px solid #e0e0e0;">Tên Table</th>
          <th style="padding:10px 8px;border:1px solid #e0e0e0;">Mô tả</th>
          <th style="padding:10px 8px;border:1px solid #e0e0e0;">Thao tác</th>
        </tr>
      </thead>
      <tbody>
        <% if (tables.length === 0) { %>
          <tr>
            <td colspan="4" style="text-align:center;padding:18px;">Chưa có Table nào.</td>
          </tr>
        <% } %>
        <% tables.forEach(function(table, idx) { %>
          <tr>
            <td style="padding:10px 8px;border:1px solid #e0e0e0;"><%= idx+1 %></td>
            <td style="padding:10px 8px;border:1px solid #e0e0e0;"><%= table.name %></td>
            <td style="padding:10px 8px;border:1px solid #e0e0e0;"><%= table.description %></td>
            <td style="padding:10px 8px;border:1px solid #e0e0e0;">
              <a href="/<%= slug %>/tables/<%= table.id %>/edit" style="color:#007bff;margin-right:10px;">Sửa</a>
              <form action="/<%= slug %>/tables/<%= table.id %>/delete" method="POST" style="display:inline;" onsubmit="return confirm('Xác nhận xóa Table này?');">
                <button type="submit" style="background:#dc3545;color:#fff;border:none;padding:5px 12px;border-radius:5px;cursor:pointer;">Xóa</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>

<%- include('../../partials/footer') %>